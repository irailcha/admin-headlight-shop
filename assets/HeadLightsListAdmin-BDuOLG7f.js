import{p as x,j as s,u as _,r as d,a as h,q as g,t as j,v as p,w as m,L as u,x as b}from"./index-DkGB6LDs.js";import{L as N}from"./Loader-DNdcUm0G.js";const L=({onSearch:a})=>{const[t,c]=x(),l=t.get("search")||"",i=r=>{const o=r.target.value;c({...Object.fromEntries(t.entries()),search:o}),a(r.target.value)};return s.jsx("div",{className:"search",children:s.jsx("input",{className:"search__form",onChange:i,value:l,type:"text",placeholder:"Введіть марку, модель автомобіля або номер запчастини"})})},w=()=>{const a=_(),[t,c]=d.useState(""),l=h(g),i=h(j),r=h(p);d.useEffect(()=>{a(m())},[a]);const o=async e=>{await a(b(e)),a(m())},n=l.filter(e=>e.mark.toLowerCase().includes(t.toLowerCase())||e.model.toLowerCase().includes(t.toLowerCase())||e.partNumber.toLowerCase().includes(t.toLowerCase()));return i?s.jsx(N,{}):s.jsxs("section",{children:[s.jsx(L,{onSearch:c}),s.jsxs("div",{className:"headlights",children:[r&&s.jsx("p",{className:"error",children:r}),n.length===0?s.jsx("p",{children:"Оголошень немає."}):s.jsx("ul",{className:"headlights__list",children:n.map(e=>s.jsxs("li",{className:"headlights__item",children:[s.jsx("div",{className:"headlights__img-thumb",children:s.jsx("img",{className:"headlights__img",src:e.photo[0],alt:`photo of ${e.mark}`,loading:"lazy",width:250})}),s.jsxs("p",{className:"headlights__compatibility block",children:[e.mark,s.jsx("br",{}),e.model,s.jsx("br",{}),e.year]}),s.jsxs("p",{className:"headlights__partNumber block",children:[s.jsx("strong",{children:"Номер деталі:"}),s.jsx("br",{})," ",e.partNumber]}),s.jsxs("p",{className:"headlights__price block",children:[e.price," грн "]}),s.jsxs("div",{className:"headlights__buttons",children:[s.jsx(u,{className:"headlights__button block",to:e._id,children:"Детальніше"}),s.jsx("button",{className:"headlights__button",onClick:()=>o(e._id),children:"Видалити"}),s.jsx(u,{className:"headlights__button",to:`/edit/${e._id}`,children:"Змінити"})]})]},e._id))})]})]})};export{w as default};
